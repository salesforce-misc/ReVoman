{
	"info": {
		"_postman_id": "6b9fba47-8128-4aaf-b6b2-9f8409a87ca2",
		"name": "[sm] pq",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "23827434",
		"_collection_link": "https://salesforce-734821.postman.co/workspace/Delphinus-%25F0%259F%2590%25AC~8b8cf020-27dc-46b1-8de1-2b679073163c/collection/23827434-6b9fba47-8128-4aaf-b6b2-9f8409a87ca2?action=share&source=collection_link&creator=23827434"
	},
	"item": [
		{
			"name": "create",
			"item": [
				{
					"name": "pq-create: qli+qlr (skip-pricing)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"pm.environment.set(\"quoteIdWithSkipPricing\", jsonData.quoteId);",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var moment = require(\"moment\");",
									"pm.environment.set(\"$currentDate\", moment().format((\"YYYY-MM-DD\")));",
									"",
									"var futureDateTime = moment().add(365, 'days');",
									"pm.environment.set('$randomFutureDate', futureDateTime.format('YYYY-MM-DD'));",
									"",
									"pm.environment.set(\"$pricingPref\", \"skip\")",
									"pm.environment.set(\"$quantity\", _.random(1, 10));",
									"pm.environment.set(\"$requestName\", pm.info.requestName)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "isAsync",
								"value": "true",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"pricingPref\": \"skip\",\n  \"graph\": {\n    \"graphId\": \"{{$requestName}}\",\n    \"records\": [\n      {\n        \"referenceId\": \"refQuote\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"Quote\",\n            \"method\": \"POST\"\n          },\n          \"Name\": \"Quote_{{$randomCompanyName}}\",\n          \"OpportunityId\": \"{{opportunityId}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItem1\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{evergreenPriceBookEntryId}}\",\n          \"Product2Id\": \"{{evergreenProductId}}\",\n          \"Quantity\": {{$quantity}},\n          \"UnitPrice\": {{$unitPrice}},\n          \"PeriodBoundary\": \"Anniversary\",\n          \"BillingFrequency\": \"Monthly\",\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItem2\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{termedPriceBookEntryId}}\",\n          \"Product2Id\": \"{{termedProductId}}\",\n          \"Quantity\": {{$quantity}},\n          \"UnitPrice\": {{$unitPrice}},\n          \"EndDate\": \"{{$randomFutureDate}}\",\n          \"PeriodBoundary\": \"DayOfPeriod\",\n          \"PeriodBoundaryDay\": 4,\n          \"BillingFrequency\": \"Monthly\",\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItem3\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{oneTimePriceBookEntryId}}\",\n          \"Product2Id\": \"{{oneTimeProductId}}\",\n          \"Quantity\": {{$quantity}},\n          \"UnitPrice\": {{$unitPrice}},\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItem4\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{oneTimePriceBookEntryId}}\",\n          \"Product2Id\": \"{{oneTimeProductId}}\",\n          \"Quantity\": {{$quantity}},\n          \"UnitPrice\": {{$unitPrice}},\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItem5\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{evergreenPriceBookEntryId}}\",\n          \"Product2Id\": \"{{evergreenProductId}}\",\n          \"Quantity\": {{$quantity}},\n          \"UnitPrice\": {{$unitPrice}},\n          \"PeriodBoundary\": \"Anniversary\",\n          \"BillingFrequency\": \"Monthly\",\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItem6\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{termedPriceBookEntryId}}\",\n          \"Product2Id\": \"{{termedProductId}}\",\n          \"Quantity\": {{$quantity}},\n          \"UnitPrice\": {{$unitPrice}},\n          \"EndDate\": \"{{$randomFutureDate}}\",\n          \"PeriodBoundary\": \"DayOfPeriod\",\n          \"PeriodBoundaryDay\": 4,\n          \"BillingFrequency\": \"Monthly\",\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItem7\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{oneTimePriceBookEntryId}}\",\n          \"Product2Id\": \"{{oneTimeProductId}}\",\n          \"Quantity\": {{$quantity}},\n          \"UnitPrice\": {{$unitPrice}},\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItem8\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{oneTimePriceBookEntryId}}\",\n          \"Product2Id\": \"{{oneTimeProductId}}\",\n          \"Quantity\": {{$quantity}},\n          \"UnitPrice\": {{$unitPrice}},\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItem9\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{evergreenPriceBookEntryId}}\",\n          \"Product2Id\": \"{{evergreenProductId}}\",\n          \"Quantity\": {{$quantity}},\n          \"UnitPrice\": {{$unitPrice}},\n          \"PeriodBoundary\": \"Anniversary\",\n          \"BillingFrequency\": \"Monthly\",\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItem10\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{termedPriceBookEntryId}}\",\n          \"Product2Id\": \"{{termedProductId}}\",\n          \"Quantity\": {{$quantity}},\n          \"UnitPrice\": {{$unitPrice}},\n          \"EndDate\": \"{{$randomFutureDate}}\",\n          \"PeriodBoundary\": \"DayOfPeriod\",\n          \"PeriodBoundaryDay\": 4,\n          \"BillingFrequency\": \"Monthly\",\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQLR1\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineRelationship\",\n            \"method\": \"POST\"\n          },\n          \"MainQuoteLineId\": \"@{refQuoteLineItem1.id}\",\n          \"AssociatedQuoteLineId\": \"@{refQuoteLineItem2.id}\",\n          \"ProductRelationshipTypeId\": \"{{productRelationshipTypeId}}\",\n          \"AssociatedQuoteLinePricing\": \"IncludedInBundlePrice\"\n        }\n      },\n      {\n        \"referenceId\": \"refQLR2\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineRelationship\",\n            \"method\": \"POST\"\n          },\n          \"MainQuoteLineId\": \"@{refQuoteLineItem1.id}\",\n          \"AssociatedQuoteLineId\": \"@{refQuoteLineItem3.id}\",\n          \"ProductRelationshipTypeId\": \"{{productRelationshipTypeId}}\",\n          \"AssociatedQuoteLinePricing\": \"IncludedInBundlePrice\"\n        }\n      },\n      {\n        \"referenceId\": \"refQLR3\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineRelationship\",\n            \"method\": \"POST\"\n          },\n          \"MainQuoteLineId\": \"@{refQuoteLineItem1.id}\",\n          \"AssociatedQuoteLineId\": \"@{refQuoteLineItem4.id}\",\n          \"ProductRelationshipTypeId\": \"{{productRelationshipTypeId}}\",\n          \"AssociatedQuoteLinePricing\": \"IncludedInBundlePrice\"\n        }\n      }\n    ]\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}{{versionPath}}/commerce/quotes/actions/place",
							"host": [
								"{{baseUrl}}{{versionPath}}"
							],
							"path": [
								"commerce",
								"quotes",
								"actions",
								"place"
							]
						}
					},
					"response": []
				},
				{
					"name": "Quote (skip-pricing)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var quoteResult = pm.response.json()",
									"pm.environment.set(\"quoteCalculationStatusForSkipPricing\", quoteResult.CalculationStatus)"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Sforce-Call-Options",
								"value": "client=SfdcInternalQA/...",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseUrl}}{{versionPath}}/sobjects/Quote/{{quoteIdWithSkipPricing}}",
							"host": [
								"{{baseUrl}}{{versionPath}}"
							],
							"path": [
								"sobjects",
								"Quote",
								"{{quoteIdWithSkipPricing}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "pq-create: qli+qlr",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"pm.environment.set(\"quoteId\", jsonData.quoteId);",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var moment = require(\"moment\");",
									"pm.environment.set(\"$currentDate\", moment().format((\"YYYY-MM-DD\")));",
									"",
									"var futureDateTime = moment().add(365, 'days');",
									"pm.environment.set('$randomFutureDate', futureDateTime.format('YYYY-MM-DD'));",
									"",
									"pm.environment.set(\"$pricingPref\", \"system\")",
									"pm.environment.set(\"$quantity\", _.random(1, 10));",
									"pm.environment.set(\"$requestName\", pm.info.requestName)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "isAsync",
								"value": "true",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"pricingPref\": \"{{$pricingPref}}\",\n  \"graph\": {\n    \"graphId\": \"{{$requestName}}\",\n    \"records\": [\n      {\n        \"referenceId\": \"refQuote\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"Quote\",\n            \"method\": \"POST\"\n          },\n          \"Name\": \"Quote_{{$randomCompanyName}}\",\n          \"OpportunityId\": \"{{opportunityId}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItem1\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{evergreenPriceBookEntryId}}\",\n          \"Product2Id\": \"{{evergreenProductId}}\",\n          \"Quantity\": {{$quantity}},\n          \"UnitPrice\": {{$unitPrice}},\n          \"PeriodBoundary\": \"Anniversary\",\n          \"BillingFrequency\": \"Monthly\",\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItem2\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{termedPriceBookEntryId}}\",\n          \"Product2Id\": \"{{termedProductId}}\",\n          \"Quantity\": {{$quantity}},\n          \"UnitPrice\": {{$unitPrice}},\n          \"EndDate\": \"{{$randomFutureDate}}\",\n          \"PeriodBoundary\": \"DayOfPeriod\",\n          \"PeriodBoundaryDay\": 4,\n          \"BillingFrequency\": \"Monthly\",\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItem3\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{oneTimePriceBookEntryId}}\",\n          \"Product2Id\": \"{{oneTimeProductId}}\",\n          \"Quantity\": {{$quantity}},\n          \"UnitPrice\": {{$unitPrice}},\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItem4\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{oneTimePriceBookEntryId}}\",\n          \"Product2Id\": \"{{oneTimeProductId}}\",\n          \"Quantity\": {{$quantity}},\n          \"UnitPrice\": {{$unitPrice}},\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItem5\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{evergreenPriceBookEntryId}}\",\n          \"Product2Id\": \"{{evergreenProductId}}\",\n          \"Quantity\": {{$quantity}},\n          \"UnitPrice\": {{$unitPrice}},\n          \"PeriodBoundary\": \"Anniversary\",\n          \"BillingFrequency\": \"Monthly\",\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItem6\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{termedPriceBookEntryId}}\",\n          \"Product2Id\": \"{{termedProductId}}\",\n          \"Quantity\": {{$quantity}},\n          \"UnitPrice\": {{$unitPrice}},\n          \"EndDate\": \"{{$randomFutureDate}}\",\n          \"PeriodBoundary\": \"DayOfPeriod\",\n          \"PeriodBoundaryDay\": 4,\n          \"BillingFrequency\": \"Monthly\",\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItem7\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{oneTimePriceBookEntryId}}\",\n          \"Product2Id\": \"{{oneTimeProductId}}\",\n          \"Quantity\": {{$quantity}},\n          \"UnitPrice\": {{$unitPrice}},\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItem8\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{oneTimePriceBookEntryId}}\",\n          \"Product2Id\": \"{{oneTimeProductId}}\",\n          \"Quantity\": {{$quantity}},\n          \"UnitPrice\": {{$unitPrice}},\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItem9\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{evergreenPriceBookEntryId}}\",\n          \"Product2Id\": \"{{evergreenProductId}}\",\n          \"Quantity\": {{$quantity}},\n          \"UnitPrice\": {{$unitPrice}},\n          \"PeriodBoundary\": \"Anniversary\",\n          \"BillingFrequency\": \"Monthly\",\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItem10\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{termedPriceBookEntryId}}\",\n          \"Product2Id\": \"{{termedProductId}}\",\n          \"Quantity\": {{$quantity}},\n          \"UnitPrice\": {{$unitPrice}},\n          \"EndDate\": \"{{$randomFutureDate}}\",\n          \"PeriodBoundary\": \"DayOfPeriod\",\n          \"PeriodBoundaryDay\": 4,\n          \"BillingFrequency\": \"Monthly\",\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQLR1\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineRelationship\",\n            \"method\": \"POST\"\n          },\n          \"MainQuoteLineId\": \"@{refQuoteLineItem1.id}\",\n          \"AssociatedQuoteLineId\": \"@{refQuoteLineItem2.id}\",\n          \"ProductRelationshipTypeId\": \"{{productRelationshipTypeId}}\",\n          \"AssociatedQuoteLinePricing\": \"IncludedInBundlePrice\"\n        }\n      },\n      {\n        \"referenceId\": \"refQLR2\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineRelationship\",\n            \"method\": \"POST\"\n          },\n          \"MainQuoteLineId\": \"@{refQuoteLineItem2.id}\",\n          \"AssociatedQuoteLineId\": \"@{refQuoteLineItem3.id}\",\n          \"ProductRelationshipTypeId\": \"{{productRelationshipTypeId}}\",\n          \"AssociatedQuoteLinePricing\": \"IncludedInBundlePrice\"\n        }\n      },\n      {\n        \"referenceId\": \"refQLR3\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineRelationship\",\n            \"method\": \"POST\"\n          },\n          \"MainQuoteLineId\": \"@{refQuoteLineItem3.id}\",\n          \"AssociatedQuoteLineId\": \"@{refQuoteLineItem4.id}\",\n          \"ProductRelationshipTypeId\": \"{{productRelationshipTypeId}}\",\n          \"AssociatedQuoteLinePricing\": \"IncludedInBundlePrice\"\n        }\n      }\n    ]\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}{{versionPath}}/commerce/quotes/actions/place",
							"host": [
								"{{baseUrl}}{{versionPath}}"
							],
							"path": [
								"commerce",
								"quotes",
								"actions",
								"place"
							]
						}
					},
					"response": []
				},
				{
					"name": "query-quote-and-related-records",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"var quoteResult = jsonData.compositeResponse[0].body.records[0]",
									"pm.environment.set(\"lineItemCount\", quoteResult.LineItemCount)",
									"pm.environment.set(\"quoteCalculationStatus\", quoteResult.CalculationStatus)",
									"",
									"var quoteLineResultRecords = jsonData.compositeResponse[1].body.records",
									"quoteLineResultRecords.forEach((record, index) => {",
									"    pm.environment.set(\"qliCreated\" + (index + 1) + \"Id\", record.Id)",
									"    pm.environment.set(\"productForQLI\" + (index + 1) + \"Id\", record.Product2Id)",
									"})",
									"",
									"var qlrResult = jsonData.compositeResponse[2].body;",
									"pm.environment.set(\"qlrCount\", qlrResult.totalSize)",
									"qlrResult.records.forEach((record, index) => {",
									"    pm.environment.set(\"quoteForQLR\" + (index + 1) + \"Id\", record.QuoteId)",
									"    pm.environment.set(\"mainQuoteLine+associatedQuoteLine\" + (index + 1) + \"ForQLR\", record.MainQuoteLineId + \"-\" + record.AssociatedQuoteLineId)",
									"})"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"pm.environment.set(\"$quoteFieldsToQuery\", \"LineItemCount, CalculationStatus\")",
									"pm.environment.set(\"$qliFieldsToQuery\", \"Id, Product2Id\")",
									"pm.environment.set(\"$qlrFieldsToQuery\", \"Id, QuoteId, MainQuoteLineId, AssociatedQuoteLineId\")"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"allOrNone\": false,\n  \"compositeRequest\": [\n    {\n      \"method\": \"GET\",\n      \"url\": \"{{versionPath}}/query/?q=select {{$quoteFieldsToQuery}} from Quote where Id = '{{quoteId}}'\",\n      \"referenceId\": \"quote\"\n    },\n    {\n      \"method\": \"GET\",\n      \"url\": \"{{versionPath}}/query/?q=select {{$qliFieldsToQuery}} from QuoteLineItem where QuoteId = '{{quoteId}}'\",\n      \"referenceId\": \"qlis\"\n    },\n    {\n      \"method\": \"GET\",\n      \"url\": \"{{versionPath}}/query/?q=select {{$qlrFieldsToQuery}} from QuoteLineRelationship where QuoteId = '{{quoteId}}'\",\n      \"referenceId\": \"qlrs\"\n    }\n  ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}{{versionPath}}/composite",
							"host": [
								"{{baseUrl}}{{versionPath}}"
							],
							"path": [
								"composite"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "update",
			"item": [
				{
					"name": "pq-update: qli(post+patch+delete) + qlr",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"pm.environment.set(\"quoteId\", jsonData.quoteId);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var moment = require(\"moment\");",
									"pm.environment.set(\"$currentDate\", moment().format((\"YYYY-MM-DD\")));",
									"",
									"var futureDateTime = moment().add(365, 'days');",
									"pm.environment.set('$randomFutureDate', futureDateTime.format('YYYY-MM-DD'));",
									"",
									"pm.environment.set(\"$pricingPref\", \"system\")",
									"pm.environment.set(\"$quantity\", _.random(1, 10));",
									"pm.environment.set(\"$requestName\", pm.info.requestName)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "isAsync",
								"value": "true",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"pricingPref\": \"{{$pricingPref}}\",\n  \"graph\": {\n    \"graphId\": \"{{$requestName}}\",\n    \"records\": [\n      {\n        \"referenceId\": \"refQuote\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"Quote\",\n            \"method\": \"PATCH\",\n            \"id\": \"{{quoteId}}\"\n          }\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItemToCreate1\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{evergreenPriceBookEntryId}}\",\n          \"Product2Id\": \"{{evergreenProductId}}\",\n          \"Quantity\": 2.0,\n          \"UnitPrice\": {{$unitPrice}},\n          \"PeriodBoundary\": \"Anniversary\",\n          \"BillingFrequency\": \"Monthly\",\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItemToCreate2\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{termedPriceBookEntryId}}\",\n          \"Product2Id\": \"{{termedProductId}}\",\n          \"Quantity\": 2.0,\n          \"UnitPrice\": {{$unitPrice}},\n          \"EndDate\": \"{{$randomFutureDate}}\",\n          \"PeriodBoundary\": \"DayOfPeriod\",\n          \"PeriodBoundaryDay\": 4,\n          \"BillingFrequency\": \"Monthly\",\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQLRToCreate1\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineRelationship\",\n            \"method\": \"POST\"\n          },\n          \"MainQuoteLineId\": \"@{refQuoteLineItemToCreate1.id}\",\n          \"AssociatedQuoteLineId\": \"@{refQuoteLineItemToCreate2.id}\",\n          \"ProductRelationshipTypeId\": \"{{productRelationshipTypeId}}\",\n          \"AssociatedQuoteLinePricing\": \"IncludedInBundlePrice\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItemToPatch2\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"PATCH\",\n            \"id\": \"{{qliCreated5Id}}\"\n          },\n          \"Quantity\": 2.0,\n          \"UnitPrice\": {{$unitPrice}}\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItemToDelete3\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"DELETE\",\n            \"id\": \"{{qliCreated10Id}}\"\n          }\n        }\n      }\n    ]\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}{{versionPath}}/commerce/quotes/actions/place",
							"host": [
								"{{baseUrl}}{{versionPath}}"
							],
							"path": [
								"commerce",
								"quotes",
								"actions",
								"place"
							]
						}
					},
					"response": []
				},
				{
					"name": "pq-update: qli(post+patch)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"pm.environment.set(\"quoteId\", jsonData.quoteId);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var moment = require(\"moment\");",
									"pm.environment.set(\"$currentDate\", moment().format((\"YYYY-MM-DD\")));",
									"",
									"var futureDateTime = moment().add(365, 'days');",
									"pm.environment.set('$randomFutureDate', futureDateTime.format('YYYY-MM-DD'));",
									"",
									"pm.environment.set(\"$pricingPref\", \"system\")",
									"pm.environment.set(\"$quantity\", _.random(1, 10));",
									"pm.environment.set(\"$requestName\", pm.info.requestName)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "isAsync",
								"value": "true",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"pricingPref\": \"{{$pricingPref}}\",\n  \"graph\": {\n    \"graphId\": \"{{$requestName}}\",\n    \"records\": [\n      {\n        \"referenceId\": \"refQuote\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"Quote\",\n            \"method\": \"PATCH\",\n            \"id\": \"{{quoteId}}\"\n          },\n          \"Name\": \"Quote_{{$randomCompanyName}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItemToCreate1\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{evergreenPriceBookEntryId}}\",\n          \"Product2Id\": \"{{evergreenProductId}}\",\n          \"Quantity\": 2.0,\n          \"UnitPrice\": {{$unitPrice}},\n          \"PeriodBoundary\": \"Anniversary\",\n          \"BillingFrequency\": \"Monthly\",\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItemToPatch2\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"PATCH\",\n            \"id\": \"{{qliCreated5Id}}\"\n          },\n          \"Quantity\": 2.0,\n          \"UnitPrice\": {{$unitPrice}}\n        }\n      }\n    ]\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}{{versionPath}}/commerce/quotes/actions/place",
							"host": [
								"{{baseUrl}}{{versionPath}}"
							],
							"path": [
								"commerce",
								"quotes",
								"actions",
								"place"
							]
						}
					},
					"response": []
				},
				{
					"name": "pq-update: qli(all post)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"pm.environment.set(\"quoteId\", jsonData.quoteId);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var moment = require(\"moment\");",
									"pm.environment.set(\"$currentDate\", moment().format((\"YYYY-MM-DD\")));",
									"",
									"var futureDateTime = moment().add(365, 'days');",
									"pm.environment.set('$randomFutureDate', futureDateTime.format('YYYY-MM-DD'));",
									"",
									"pm.environment.set(\"$pricingPref\", \"system\")",
									"pm.environment.set(\"$quantity\", _.random(1, 10));",
									"pm.environment.set(\"$requestName\", pm.info.requestName)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "isAsync",
								"value": "true",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"pricingPref\": \"{{$pricingPref}}\",\n  \"graph\": {\n    \"graphId\": \"{{$requestName}}\",\n    \"records\": [\n      {\n        \"referenceId\": \"refQuote\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"Quote\",\n            \"method\": \"PATCH\",\n            \"id\": \"{{quoteId}}\"\n          },\n          \"Name\": \"Quote_{{$randomCompanyName}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItem1\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{evergreenPriceBookEntryId}}\",\n          \"Product2Id\": \"{{evergreenProductId}}\",\n          \"Quantity\": 2.0,\n          \"UnitPrice\": {{$unitPrice}},\n          \"PeriodBoundary\": \"Anniversary\",\n          \"BillingFrequency\": \"Monthly\",\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItem2\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{evergreenPriceBookEntryId}}\",\n          \"Product2Id\": \"{{evergreenProductId}}\",\n          \"Quantity\": 2.0,\n          \"UnitPrice\": {{$unitPrice}},\n          \"PeriodBoundary\": \"Anniversary\",\n          \"BillingFrequency\": \"Monthly\",\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItem3\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{termedPriceBookEntryId}}\",\n          \"Product2Id\": \"{{termedProductId}}\",\n          \"Quantity\": 2.0,\n          \"UnitPrice\": {{$unitPrice}},\n          \"EndDate\": \"{{$randomFutureDate}}\",\n          \"PeriodBoundary\": \"DayOfPeriod\",\n          \"PeriodBoundaryDay\": 4,\n          \"BillingFrequency\": \"Monthly\",\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItem4\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{oneTimePriceBookEntryId}}\",\n          \"Product2Id\": \"{{oneTimeProductId}}\",\n          \"Quantity\": 2.0,\n          \"UnitPrice\": {{$unitPrice}},\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      }\n    ]\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}{{versionPath}}/commerce/quotes/actions/place",
							"host": [
								"{{baseUrl}}{{versionPath}}"
							],
							"path": [
								"commerce",
								"quotes",
								"actions",
								"place"
							]
						}
					},
					"response": []
				},
				{
					"name": "pq-update: only quote",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"pm.environment.set(\"quoteId\", jsonData.quoteId);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var moment = require(\"moment\");",
									"pm.environment.set(\"$currentDate\", moment().format((\"YYYY-MM-DD\")));",
									"",
									"var futureDateTime = moment().add(365, 'days');",
									"pm.environment.set('$randomFutureDate', futureDateTime.format('YYYY-MM-DD'));",
									"",
									"pm.environment.set(\"$pricingPref\", \"system\")",
									"pm.environment.set(\"$quantity\", _.random(1, 10));",
									"pm.environment.set(\"$requestName\", pm.info.requestName)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "isSync",
								"value": "true",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"pricingPref\": \"{{$pricingPref}}\",\n  \"graph\": {\n    \"graphId\": \"{{$requestName}}\",\n    \"records\": [\n      {\n        \"referenceId\": \"refQuote\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"Quote\",\n            \"method\": \"PATCH\",\n            \"id\": \"{{quoteId}}\"\n          }\n        }\n      }\n    ]\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}{{versionPath}}/commerce/quotes/actions/place",
							"host": [
								"{{baseUrl}}{{versionPath}}"
							],
							"path": [
								"commerce",
								"quotes",
								"actions",
								"place"
							]
						}
					},
					"response": []
				},
				{
					"name": "pq-update: qli+qlr(all post)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"pm.environment.set(\"quoteId\", jsonData.quoteId);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var moment = require(\"moment\");",
									"pm.environment.set(\"$currentDate\", moment().format((\"YYYY-MM-DD\")));",
									"",
									"var futureDateTime = moment().add(365, 'days');",
									"pm.environment.set('$randomFutureDate', futureDateTime.format('YYYY-MM-DD'));",
									"",
									"pm.environment.set(\"$pricingPref\", \"system\")",
									"pm.environment.set(\"$quantity\", _.random(1, 10));",
									"pm.environment.set(\"$requestName\", pm.info.requestName)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "isAsync",
								"value": "true",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"pricingPref\": \"{{$pricingPref}}\",\n  \"graph\": {\n    \"graphId\": \"{{$requestName}}\",\n    \"records\": [\n      {\n        \"referenceId\": \"refQuote\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"Quote\",\n            \"method\": \"PATCH\",\n            \"id\": \"{{quoteId}}\"\n          },\n          \"Name\": \"Quote_{{$randomCompanyName}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItem1\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{evergreenPriceBookEntryId}}\",\n          \"Product2Id\": \"{{evergreenProductId}}\",\n          \"Quantity\": 2.0,\n          \"UnitPrice\": {{$unitPrice}},\n          \"PeriodBoundary\": \"Anniversary\",\n          \"BillingFrequency\": \"Monthly\",\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItem2\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{evergreenPriceBookEntryId}}\",\n          \"Product2Id\": \"{{evergreenProductId}}\",\n          \"Quantity\": 2.0,\n          \"UnitPrice\": {{$unitPrice}},\n          \"PeriodBoundary\": \"Anniversary\",\n          \"BillingFrequency\": \"Monthly\",\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItem3\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{termedPriceBookEntryId}}\",\n          \"Product2Id\": \"{{termedProductId}}\",\n          \"Quantity\": 2.0,\n          \"UnitPrice\": {{$unitPrice}},\n          \"EndDate\": \"{{$randomFutureDate}}\",\n          \"PeriodBoundary\": \"DayOfPeriod\",\n          \"PeriodBoundaryDay\": 4,\n          \"BillingFrequency\": \"Monthly\",\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItem4\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{oneTimePriceBookEntryId}}\",\n          \"Product2Id\": \"{{oneTimeProductId}}\",\n          \"Quantity\": 2.0,\n          \"UnitPrice\": {{$unitPrice}},\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQLR1\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineRelationship\",\n            \"method\": \"POST\"\n          },\n          \"MainQuoteLineId\": \"@{refQuoteLineItem1.id}\",\n          \"AssociatedQuoteLineId\": \"@{refQuoteLineItem2.id}\",\n          \"ProductRelationshipTypeId\": \"{{productRelationshipTypeId}}\",\n          \"AssociatedQuoteLinePricing\": \"IncludedInBundlePrice\"\n        }\n      },\n      {\n        \"referenceId\": \"refQLR2\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineRelationship\",\n            \"method\": \"POST\"\n          },\n          \"MainQuoteLineId\": \"@{refQuoteLineItem1.id}\",\n          \"AssociatedQuoteLineId\": \"@{refQuoteLineItem3.id}\",\n          \"ProductRelationshipTypeId\": \"{{productRelationshipTypeId}}\",\n          \"AssociatedQuoteLinePricing\": \"IncludedInBundlePrice\"\n        }\n      },\n      {\n        \"referenceId\": \"refQLR3\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineRelationship\",\n            \"method\": \"POST\"\n          },\n          \"MainQuoteLineId\": \"@{refQuoteLineItem2.id}\",\n          \"AssociatedQuoteLineId\": \"@{refQuoteLineItem4.id}\",\n          \"ProductRelationshipTypeId\": \"{{productRelationshipTypeId}}\",\n          \"AssociatedQuoteLinePricing\": \"IncludedInBundlePrice\"\n        }\n      }\n    ]\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}{{versionPath}}/commerce/quotes/actions/place",
							"host": [
								"{{baseUrl}}{{versionPath}}"
							],
							"path": [
								"commerce",
								"quotes",
								"actions",
								"place"
							]
						}
					},
					"response": []
				},
				{
					"name": "pq-update: qli(all patch)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"pm.environment.set(\"quoteId\", jsonData.quoteId);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var moment = require(\"moment\");",
									"pm.environment.set(\"$currentDate\", moment().format((\"YYYY-MM-DD\")));",
									"",
									"var futureDateTime = moment().add(365, 'days');",
									"pm.environment.set('$randomFutureDate', futureDateTime.format('YYYY-MM-DD'));",
									"",
									"pm.environment.set(\"$pricingPref\", \"system\")",
									"pm.environment.set(\"$quantity\", _.random(1, 10));",
									"pm.environment.set(\"$requestName\", pm.info.requestName)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "isAsync",
								"value": "true",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"pricingPref\": \"{{$pricingPref}}\",\n  \"graph\": {\n    \"graphId\": \"{{$requestName}}\",\n    \"records\": [\n      {\n        \"referenceId\": \"refQuote\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"Quote\",\n            \"method\": \"PATCH\",\n            \"id\": \"{{quoteId}}\"\n          },\n          \"Name\": \"Quote_{{$randomCompanyName}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItemToPatch1\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"PATCH\",\n            \"id\": \"{{qliCreated5Id}}\"\n          },\n          \"Quantity\": {{$quantity}},\n          \"UnitPrice\": {{$unitPrice}}\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItemToPatch2\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"PATCH\",\n            \"id\": \"{{qliCreated6Id}}\"\n          },\n          \"Discount\": 2.0,\n          \"UnitPrice\": {{$unitPrice}}\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItemToPatch3\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"PATCH\",\n            \"id\": \"{{qliCreated7Id}}\"\n          },\n          \"Quantity\": {{$quantity}},\n          \"Discount\": 7.0\n        }\n      }\n    ]\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}{{versionPath}}/commerce/quotes/actions/place",
							"host": [
								"{{baseUrl}}{{versionPath}}"
							],
							"path": [
								"commerce",
								"quotes",
								"actions",
								"place"
							]
						}
					},
					"response": []
				},
				{
					"name": "pq-update: qli(all delete)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"pm.environment.set(\"quoteId\", jsonData.quoteId);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var moment = require(\"moment\");",
									"pm.environment.set(\"$currentDate\", moment().format((\"YYYY-MM-DD\")));",
									"",
									"var futureDateTime = moment().add(365, 'days');",
									"pm.environment.set('$randomFutureDate', futureDateTime.format('YYYY-MM-DD'));",
									"",
									"pm.environment.set(\"$pricingPref\", \"system\")",
									"pm.environment.set(\"$quantity\", _.random(1, 10));",
									"pm.environment.set(\"$requestName\", pm.info.requestName)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "isAsync",
								"value": "true",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"pricingPref\": \"{{$pricingPref}}\",\n  \"graph\": {\n    \"graphId\": \"{{$requestName}}\",\n    \"records\": [\n      {\n        \"referenceId\": \"refQuote\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"Quote\",\n            \"method\": \"PATCH\",\n            \"id\": \"{{quoteId}}\"\n          },\n          \"Name\": \"Quote_{{$randomCompanyName}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItemToDelete1\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"DELETE\",\n            \"id\": \"{{qliCreated8Id}}\"\n          }\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItemToDelete2\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"DELETE\",\n            \"id\": \"{{qliCreated9Id}}\"\n          }\n        }\n      }\n    ]\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}{{versionPath}}/commerce/quotes/actions/place",
							"host": [
								"{{baseUrl}}{{versionPath}}"
							],
							"path": [
								"commerce",
								"quotes",
								"actions",
								"place"
							]
						}
					},
					"response": []
				},
				{
					"name": "pq-update: qli(post+delete)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"pm.environment.set(\"quoteId\", jsonData.quoteId);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"var moment = require(\"moment\");",
									"pm.environment.set(\"$currentDate\", moment().format((\"YYYY-MM-DD\")));",
									"",
									"var futureDateTime = moment().add(365, 'days');",
									"pm.environment.set('$randomFutureDate', futureDateTime.format('YYYY-MM-DD'));",
									"",
									"pm.environment.set(\"$pricingPref\", \"system\")",
									"pm.environment.set(\"$quantity\", _.random(1, 10));",
									"pm.environment.set(\"$requestName\", pm.info.requestName)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "isAsync",
								"value": "true",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"pricingPref\": \"{{$pricingPref}}\",\n  \"graph\": {\n    \"graphId\": \"{{$requestName}}\",\n    \"records\": [\n      {\n        \"referenceId\": \"refQuote\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"Quote\",\n            \"method\": \"PATCH\",\n            \"id\": \"{{quoteId}}\"\n          },\n          \"Name\": \"Quote_{{$randomCompanyName}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItem1\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{evergreenPriceBookEntryId}}\",\n          \"Product2Id\": \"{{evergreenProductId}}\",\n          \"Quantity\": {{$quantity}},\n          \"UnitPrice\": {{$unitPrice}},\n          \"PeriodBoundary\": \"Anniversary\",\n          \"BillingFrequency\": \"Monthly\",\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItemToDelete3\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"DELETE\",\n            \"id\": \"{{qliCreated7Id}}\"\n          }\n        }\n      }\n    ]\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}{{versionPath}}/commerce/quotes/actions/place",
							"host": [
								"{{baseUrl}}{{versionPath}}"
							],
							"path": [
								"commerce",
								"quotes",
								"actions",
								"place"
							]
						}
					},
					"response": []
				},
				{
					"name": "Quote",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var quoteResult = pm.response.json()",
									"pm.environment.set(\"quoteCalculationStatusAfterAllUpdates\", quoteResult.CalculationStatus)"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							},
							{
								"key": "Sforce-Call-Options",
								"value": "client=SfdcInternalQA/...",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseUrl}}{{versionPath}}/sobjects/Quote/{{quoteId}}",
							"host": [
								"{{baseUrl}}{{versionPath}}"
							],
							"path": [
								"sobjects",
								"Quote",
								"{{quoteId}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "errors",
			"item": [
				{
					"name": "sync",
					"item": [
						{
							"name": "pq-create-without-quote (sync-error)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require(\"moment\");",
											"pm.environment.set(\"$currentDate\", moment().format((\"YYYY-MM-DD\")));",
											"",
											"var futureDateTime = moment().add(365, 'days');",
											"pm.environment.set('$randomFutureDate', futureDateTime.format('YYYY-MM-DD'));",
											"",
											"pm.environment.set(\"$pricingPref\", \"system\")",
											"pm.environment.set(\"$quantity\", _.random(1, 10));",
											"pm.environment.set(\"$requestName\", pm.info.requestName)"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "ignoreHTTPStatusUnsuccessful",
										"value": "true",
										"type": "text"
									},
									{
										"key": "isSync",
										"value": "true",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"pricingPref\": \"{{$pricingPref}}\",\n  \"graph\": {\n    \"graphId\": \"{{$requestName}}\",\n    \"records\": [\n      {\n        \"referenceId\": \"refQuoteLineItem1\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{evergreenPriceBookEntryId}}\",\n          \"Product2Id\": \"{{evergreenProductId}}\",\n          \"Quantity\": {{$quantity}},\n          \"UnitPrice\": {{$unitPrice}},\n          \"PeriodBoundary\": \"Anniversary\",\n          \"BillingFrequency\": \"Monthly\",\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      }\n    ]\n  }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}{{versionPath}}/commerce/quotes/actions/place",
									"host": [
										"{{baseUrl}}{{versionPath}}"
									],
									"path": [
										"commerce",
										"quotes",
										"actions",
										"place"
									]
								}
							},
							"response": []
						},
						{
							"name": "pq-update-invalid-method (sync-error)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require(\"moment\");",
											"pm.environment.set(\"$currentDate\", moment().format((\"YYYY-MM-DD\")));",
											"",
											"var futureDateTime = moment().add(365, 'days');",
											"pm.environment.set('$randomFutureDate', futureDateTime.format('YYYY-MM-DD'));",
											"",
											"pm.environment.set(\"$pricingPref\", \"system\")",
											"pm.environment.set(\"$quantity\", _.random(1, 10));",
											"pm.environment.set(\"$requestName\", pm.info.requestName)"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "ignoreHTTPStatusUnsuccessful",
										"value": "true",
										"type": "text"
									},
									{
										"key": "isSync",
										"value": "true",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"pricingPref\": \"{{$pricingPref}}\",\n  \"graph\": {\n    \"graphId\": \"{{$requestName}}\",\n    \"records\": [\n      {\n        \"referenceId\": \"refQuote\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"Quote\",\n            \"method\": \"DELETE\",\n            \"id\": \"{{quoteId}}\"\n          }\n        }\n      }\n    ]\n  }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}{{versionPath}}/commerce/quotes/actions/place",
									"host": [
										"{{baseUrl}}{{versionPath}}"
									],
									"path": [
										"commerce",
										"quotes",
										"actions",
										"place"
									]
								}
							},
							"response": []
						},
						{
							"name": "pq-create-invalid-ql-field",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"var moment = require(\"moment\");",
											"pm.environment.set(\"$currentDate\", moment().format((\"YYYY-MM-DD\")));",
											"",
											"var futureDateTime = moment().add(365, 'days');",
											"pm.environment.set('$randomFutureDate', futureDateTime.format('YYYY-MM-DD'));",
											"",
											"pm.environment.set(\"$pricingPref\", \"system\")",
											"pm.environment.set(\"$quantity\", _.random(1, 10));",
											"pm.environment.set(\"$requestName\", pm.info.requestName)"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "ignoreHTTPStatusUnsuccessful",
										"value": "true",
										"type": "text"
									},
									{
										"key": "isSync",
										"value": "true",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"pricingPref\": \"skip\",\n  \"graph\": {\n    \"graphId\": \"pq-create: invalid QLI (sync-error)\",\n    \"records\": [\n      {\n        \"referenceId\": \"refQuote\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"Quote\",\n            \"method\": \"POST\"\n          },\n          \"Name\": \"Quote_{{$randomCompanyName}}\",\n          \"OpportunityId\": \"{{opportunityId}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItem1\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{evergreenPriceBookEntryId}}\",\n          \"Product2Id\": \"{{evergreenProductId}}\",\n          \"Quantity\": {{$quantity}},\n          \"UnitPrice\": \"{{$unitPrice}}\",\n          \"PeriodBoundary\": \"INVALID\",\n          \"BillingFrequency\": \"Monthly\",\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      },\n      {\n        \"referenceId\": \"refQuoteLineItem2\",\n        \"record\": {\n          \"attributes\": {\n            \"type\": \"QuoteLineItem\",\n            \"method\": \"POST\"\n          },\n          \"QuoteId\": \"@{refQuote.id}\",\n          \"PricebookEntryId\": \"{{termedPriceBookEntryId}}\",\n          \"Product2Id\": \"{{termedProductId}}\",\n          \"Quantity\": {{$quantity}},\n          \"UnitPrice\": {{$unitPrice}},\n          \"EndDate\": \"{{$randomFutureDate}}\",\n          \"PeriodBoundary\": \"DayOfPeriod\",\n          \"PeriodBoundaryDay\": 4,\n          \"BillingFrequency\": \"Monthly\",\n          \"StartDate\": \"{{$currentDate}}\"\n        }\n      }\n    ]\n  }\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}{{versionPath}}/commerce/quotes/actions/place",
									"host": [
										"{{baseUrl}}{{versionPath}}"
									],
									"path": [
										"commerce",
										"quotes",
										"actions",
										"place"
									]
								}
							},
							"response": []
						}
					]
				}
			]
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{accessToken}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	]
}